# vim: set ft=conf

set -g prefix C-o
unbind-key C-b
bind-key a send-prefix 	# Send command to a nested tmux session by using "Ctl-a a <command>"

setw -g mode-keys vi
setw -g mode-mouse on
setw -g mouse-resize-pane on
setw -g mouse-select-pane on
setw -g mouse-select-window on

# Navigate through windows with Shift-left and Shift-right
bind -n C-t new-window -a	# create new window
bind -n S-left  prev		# goto previous window
bind -n S-right next 		# goto next window

# start numbering windows and panes from 1
set -g base-index 1
setw -g pane-base-index 1

bind -t vi-copy 'v' begin-selection
#bind -t vi-copy 'y' copy-selection

# Move through panes using Vim-like key bindings
bind -n C-h run "(tmux display-message -p '#{pane_current_command}' | grep -iqE '(^|\/)g?(view|vim?)(diff)?$' && tmux send-keys C-h) || tmux select-pane -L"
bind -n C-j run "(tmux display-message -p '#{pane_current_command}' | grep -iqE '(^|\/)g?(view|vim?)(diff)?$' && tmux send-keys C-j) || tmux select-pane -D"
bind -n C-k run "(tmux display-message -p '#{pane_current_command}' | grep -iqE '(^|\/)g?(view|vim?)(diff)?$' && tmux send-keys C-k) || tmux select-pane -U"
bind -n C-l run "(tmux display-message -p '#{pane_current_command}' | grep -iqE '(^|\/)g?(view|vim?)(diff)?$' && tmux send-keys C-l) || tmux select-pane -R"
bind -n C-\ run "(tmux display-message -p '#{pane_current_command}' | grep -iqE '(^|\/)g?(view|vim?)(diff)?$' && tmux send-keys 'C-\\') || tmux select-pane -l"

set -g default-terminal 'screen-256color'
set -g default-shell /bin/zsh

# Powerline
source '/usr/local/lib/python2.7/dist-packages/powerline/bindings/tmux/powerline.conf'

set -g status-interval 2
